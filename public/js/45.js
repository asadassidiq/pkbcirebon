/*! For license information please see 45.js.LICENSE.txt?id=d99cfb7de3f9a3e4d957 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{418:function(t,e,a){"use strict";a.r(e);var n=a(6),r=a(3),i=a.n(r),o=a(35),s=a(15),l=a.n(s),c=(a(18),a(0));function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(){d=function(){return e};var t,e={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(t,e,a){t[e]=a.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,a){return t[e]=a}}function f(t,e,a,n){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new R(n||[]);return r(o,"_invoke",{value:E(t,a,s)}),o}function p(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="executing",m="completed",g={};function b(){}function y(){}function _(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==a&&n.call(x,o)&&(w=x);var C=_.prototype=b.prototype=Object.create(w);function O(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function a(r,i,o,s){var l=p(t[r],t,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==u(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,o,s)}),(function(t){a("throw",t,o,s)})):e.resolve(d).then((function(t){c.value=t,o(c)}),(function(t){return a("throw",t,o,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){a(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(e,a,n){var r=h;return function(i,o){if(r===v)throw new Error("Generator is already running");if(r===m){if("throw"===i)throw o;return{value:t,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var l=S(s,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=v;var c=p(e,a,n);if("normal"===c.type){if(r=n.done?m:"suspendedYield",c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=m,n.method="throw",n.arg=c.arg)}}}function S(e,a){var n=a.method,r=e.iterator[n];if(r===t)return a.delegate=null,"throw"===n&&e.iterator.return&&(a.method="return",a.arg=t,S(e,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(r,e.iterator,a.arg);if("throw"===i.type)return a.method="throw",a.arg=i.arg,a.delegate=null,g;var o=i.arg;return o?o.done?(a[e.resultName]=o.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,g):o:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var a=e[o];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function a(){for(;++r<e.length;)if(n.call(e,r))return a.value=e[r],a.done=!1,a;return a.value=t,a.done=!0,a};return i.next=i}}throw new TypeError(u(e)+" is not iterable")}return y.prototype=_,r(C,"constructor",{value:_,configurable:!0}),r(_,"constructor",{value:y,configurable:!0}),y.displayName=c(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,l,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},O(j.prototype),c(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new j(f(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},O(C),c(C,l,"Generator"),c(C,o,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var n in e)a.push(n);return a.reverse(),function t(){for(;a.length;){var n=a.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function r(n,r){return s.type="throw",s.arg=e,a.next=n,r&&(a.method="next",a.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),P(a),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var r=n.arg;P(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,a,n){return this.delegate={iterator:N(e),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function f(t,e,a,n,r,i,o){try{var s=t[i](o),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(n,r)}function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){v(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function v(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var m={created:function(){this.getAntrians();var t=new Date,e=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();t=n+"-"+a+"-"+e,this.tgl=t},data:function(){return{search:"",tgl:"",idbilling:"",result:"",error:""}},mounted:function(){this.$store.dispatch(n.a,[{title:"Antrian"},{title:"Data"}])},computed:h(h(h({},Object(c.e)(["antrian"])),Object(c.e)("antrian",{identitaskendaraan:function(t){return t.identitaskendaraan},kodewilayahs:function(t){return t.kodewilayahs}})),{},{page:{get:function(){return this.$store.state.antrian.page},set:function(t){this.$store.commit("antrian/SET_PAGE",t)}}}),watch:{page:function(){this.getAntrians()},search:function(){this.getAntrians(this.search)},tgl:function(){this.$store.commit("antrian/SET_TGL",this.customFormatter(this.tgl)),this.getAntrians(this.search)}},methods:h(h(h({},Object(c.b)("antrian",["getAntrians","getBilling","getPendaftaran","getKodewilayahs","updateAntrian","setAntrian"])),Object(c.d)("antrian",["CLEAR_FORM"])),{},{deleteAntrian:function(t){},customFormatter:function(t){return t},print:function(t){window.open("/cetak/"+t+"/permohonan","_blank")},reload:function(){this.getAntrians(this.search)},edit:function(t){this.getKodewilayahs(),this.getPendaftaran(t)},updateData:function(){var t=this;this.updateAntrian(this.identitaskendaraan.id).then((function(){i.a.fire({title:"",text:"Berhasil Update",icon:"success",showConfirmButton:!1,timer:1500}),t.reload()}))},caridata:function(){var t=this;this.getBilling(this.idbilling).then((function(){0==t.antrian.pendaftaran.pendaftaran_id.length?i.a.fire({title:"",text:"barcode id tidak ditemukan",icon:"warning",showConfirmButton:!1,timer:1500}):0==t.antrian.pendaftaran.status?i.a.fire({title:"",text:"masih menunggu pembayaran",icon:"warning",showConfirmButton:!1,timer:1500}):t.antrian.pendaftaran.tglpendaftaran!=t.antrian.pendaftaran.tglbayar?i.a.fire({title:"",text:"kendaraan tidak terjadwal hari ini",icon:"warning",showConfirmButton:!1,timer:1500}):0==t.antrian.pendaftaran.datastatus?(i.a.fire({title:"",text:"Daat Belum Lengkap",icon:"warning",showConfirmButton:!1,timer:1500}),t.$router.push({name:"pendaftaran.edit",params:{id:t.antrian.pendaftaran.pendaftaran_id}})):1==t.antrian.pendaftaran.status&&(i.a.fire({title:"",text:"barcode id ditemukan",icon:"success",showConfirmButton:!1,timer:1500}),t.setAntrian(t.antrian.pendaftaran.pendaftaran_id)),t.idbilling="",t.CLEAR_FORM()}))},onDecode:function(t){var e=this;console.log(t),this.idbilling=t,this.getBilling(t).then((function(){0==e.antrian.pendaftaran.pendaftaran_id.length?i.a.fire({title:"",text:"barcode id tidak ditemukan",icon:"warning",showConfirmButton:!1,timer:1500}):0==e.antrian.pendaftaran.status?i.a.fire({title:"",text:"masih menunggu pembayaran",icon:"warning",showConfirmButton:!1,timer:1500}):e.antrian.pendaftaran.tglpendaftaran!=e.antrian.pendaftaran.tglbayar?i.a.fire({title:"",text:"kendaraan tidak terjadwal hari ini",icon:"warning",showConfirmButton:!1,timer:1500}):0==e.antrian.pendaftaran.datastatus?(i.a.fire({title:"",text:"Daat Belum Lengkap",icon:"warning",showConfirmButton:!1,timer:1500}),e.$router.push({name:"pendaftaran.edit",params:{id:e.antrian.pendaftaran.pendaftaran_id}})):1==e.antrian.pendaftaran.status&&(i.a.fire({title:"",text:"barcode id ditemukan",icon:"success",showConfirmButton:!1,timer:1500}),e.setAntrian(e.antrian.pendaftaran.pendaftaran_id)),e.idbilling="",e.CLEAR_FORM()}))},onInit:function(t){var e,a=this;return(e=d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),"NotAllowedError"===e.t0.name?a.error="ERROR: you need to grant camera access permission":"NotFoundError"===e.t0.name?a.error="ERROR: no camera on this device":"NotSupportedError"===e.t0.name?a.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===e.t0.name?a.error="ERROR: is the camera already in use?":"OverconstrainedError"===e.t0.name?a.error="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===e.t0.name?a.error="ERROR: Stream API is not supported in this browser":"InsecureContextError"===e.t0.name?a.error="ERROR: Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":a.error="ERROR: Camera error (".concat(e.t0.name,")");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(t){f(i,n,r,o,s,"next",t)}function s(t){f(i,n,r,o,s,"throw",t)}o(void 0)}))})()}}),components:{vSelect:l.a,QrcodeStream:o.QrcodeStream}},g=a(1),b=Object(g.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card card-custom"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-toolbar"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-5"},[e("b-form-datepicker",{attrs:{id:"example-datepicker",locale:"id"},model:{value:t.tgl,callback:function(e){t.tgl=e},expression:"tgl"}})],1),t._v(" "),e("div",{staticClass:"col-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"serach"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-1"},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-scrollable",modifiers:{"modal-scrollable":!0}}],staticClass:"btn btn-sm btn-icon btn-light-danger mr-2",attrs:{"data-toggle":"tooltip",title:"Scan with Camera",type:"button"}},[e("i",{staticClass:"flaticon2-photo-camera"})])]),t._v(" "),e("div",{staticClass:"col-1"},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-scrollable2",modifiers:{"modal-scrollable2":!0}}],staticClass:"btn btn-sm btn-icon btn-light-danger mr-2",attrs:{"data-toggle":"tooltip",title:"Scan with Scanner",type:"button"}},[e("i",{staticClass:"flaticon2-copy"})])]),t._v(" "),e("div",{staticClass:"col-1"},[e("a",{staticClass:"btn btn-sm btn-icon btn-light-info mr-2",attrs:{title:"reload data"},on:{click:function(e){return e.preventDefault(),t.reload.apply(null,arguments)}}},[e("i",{staticClass:"flaticon2-reload"})])])])])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row table-responsive"},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table"},[t._m(1),t._v(" "),e("tbody",t._l(t.antrian.antrians.data,(function(a,n){return e("tr",{key:a.id},[e("td",[t._v(t._s(n+1))]),t._v(" "),e("td",[t._v(t._s(a.keterangan))]),t._v(" "),e("td",[t._v(t._s(a.nouji))]),t._v(" "),e("td",[t._v(t._s(a.noregistrasikendaraan))]),t._v(" "),e("td",[e("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-scrollable3",modifiers:{"modal-scrollable3":!0}}],attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.edit(a.id)}}},[e("i",{staticClass:"fa fa-edit text-success"})]),t._v("/\n                        "),e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.print(a.id)}}},[e("i",{staticClass:"fa fa-print text-info"})])])])})),0)])])])]),t._v(" "),e("div",{staticClass:"card-footer"},[e("div",{staticClass:"pull-right"},[e("div",{staticClass:"overflow-auto"},[t.antrian.antrians.data&&t.antrian.antrians.data.length>0?e("b-pagination",{attrs:{"total-rows":t.antrian.antrians.total,"per-page":t.antrian.antrians.per_page,"aria-controls":"antrians"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)])]),t._v(" "),e("b-modal",{attrs:{id:"modal-scrollable",scrollable:"","ok-only":""}},[e("p",{staticClass:"error"},[t._v(t._s(t.error))]),t._v(" "),e("qrcode-stream",{on:{decode:t.onDecode,init:t.onInit}})],1),t._v(" "),e("b-modal",{attrs:{id:"modal-scrollable2",scrollable:"","ok-only":""}},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.idbilling,expression:"idbilling"}],staticClass:"form-control form-control-solid form-control-lg",attrs:{type:"text",name:"width",placeholder:"Scan"},domProps:{value:t.idbilling},on:{change:function(e){return t.caridata()},input:function(e){e.target.composing||(t.idbilling=e.target.value)}}})])]),t._v(" "),e("b-modal",{attrs:{id:"modal-scrollable3"},on:{ok:t.updateData}},[e("div",{staticClass:"form-group"},[e("label",[t._v("Tanggal Pendaftaran")]),t._v(" "),e("b-form-datepicker",{attrs:{id:"example-datepicker",locale:"id"},model:{value:t.identitaskendaraan.tglpendaftaran,callback:function(e){t.$set(t.identitaskendaraan,"tglpendaftaran",e)},expression:"identitaskendaraan.tglpendaftaran"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Jenis Pendaftaran")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.identitaskendaraan.kodepenerbitans_id,expression:"identitaskendaraan.kodepenerbitans_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.identitaskendaraan,"kodepenerbitans_id",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:"selected",value:"1"}},[t._v("Daftar Baru")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("Perpanjangan")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("Rusak")]),t._v(" "),e("option",{attrs:{value:"4"}},[t._v("Hilang")]),t._v(" "),e("option",{attrs:{value:"5"}},[t._v("Numpang Uji Masuk")]),t._v(" "),e("option",{attrs:{value:"9"}},[t._v("Numpang Uji Keluar")]),t._v(" "),e("option",{attrs:{value:"6"}},[t._v("Mutasi Masuk")]),t._v(" "),e("option",{attrs:{value:"10"}},[t._v("Mutasi Keluar")]),t._v(" "),e("option",{attrs:{value:"7"}},[t._v("Uji Ulang")])])]),t._v(" "),2==t.identitaskendaraan.kodepenerbitans_id?e("div",{staticClass:"form-group"},[e("label",[t._v(" No Uji")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.identitaskendaraan.nouji,expression:"identitaskendaraan.nouji"}],staticClass:"form-control form-control-solid form-control-lg",attrs:{type:"text",placeholder:"No Uji"},domProps:{value:t.identitaskendaraan.nouji},on:{input:function(e){e.target.composing||t.$set(t.identitaskendaraan,"nouji",e.target.value)}}})]):t._e(),t._v(" "),5==t.identitaskendaraan.kodepenerbitans_id||6==t.identitaskendaraan.kodepenerbitans_id?e("div",{staticClass:"form-group"},[e("label",[t._v("Daerah Asal")]),t._v(" "),e("vSelect",{attrs:{label:"area_name",options:t.kodewilayahs},model:{value:t.identitaskendaraan.kodewilayah,callback:function(e){t.$set(t.identitaskendaraan,"kodewilayah",e)},expression:"identitaskendaraan.kodewilayah"}})],1):t._e()])],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"card-title"},[t("span",{staticClass:"card-icon"},[t("i",{staticClass:"flaticon2-lorry text-primary"})]),this._v(" "),t("h3",{staticClass:"card-label"},[this._v("Antrian")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("No.")]),t._v(" "),e("th",[t._v("Jenis Pendaftaran")]),t._v(" "),e("th",[t._v("No Uji")]),t._v(" "),e("th",[t._v("No Kendaraan")]),t._v(" "),e("th",[t._v("Modify")])])])}],!1,null,null,null);e.default=b.exports}}]);