(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{424:function(t,a,e){"use strict";e.r(a);var r=e(6),n=e(3),i=e.n(n),s=e(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,r)}return e}function u(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?c(Object(e),!0).forEach((function(a){l(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function l(t,a,e){return(a=function(t){var a=function(t,a){if("object"!==o(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,a||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"===o(a)?a:String(a)}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var d={data:function(){return{user:[],search:"",status:"4",jenis:"5",tgl:""}},created:function(){var t=new Date,a=String(t.getDate()).padStart(2,"0"),e=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();t=r+"-"+e+"-"+a,this.tgl=t,this.user=this.$store.state.profile.user_personal_info},mounted:function(){this.$store.dispatch(r.a,[{title:"Pendaftaran"},{title:"Persuratan"}])},computed:u(u({},Object(s.e)(["surat"])),{},{page:{get:function(){return this.$store.state.surat.page},set:function(t){this.$store.commit("surat/SET_PAGE",t)}}}),watch:{page:function(){this.getPendaftarans()},search:function(){this.getPendaftarans(this.search)},tgl:function(){this.$store.commit("surat/SET_TGL",this.customFormatter(this.tgl)),this.getPendaftarans(this.search)},status:function(){this.$store.commit("surat/SET_STATUS",this.status),this.getPendaftarans(this.search)},jenis:function(){this.$store.commit("surat/SET_JENIS",this.jenis),this.getPendaftarans(this.search)}},methods:u(u({},Object(s.b)("surat",["getPendaftarans","sendDataPendaftaran","getTTE"])),{},{sendPendaftaran:function(t,a){var e=this;i.a.fire({title:"Kirim Pendaftaran?",text:"Anda yakin mengirim data ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Iya, kirim ini!"}).then((function(r){if(r.isConfirmed){var n={id:t,nouji:a};e.sendDataPendaftaran(n).then((function(){i.a.fire("Sent!","Pendaftaran sudah terkirim.","success"),e.getPendaftarans()}))}}))},customFormatter:function(t){return t},print:function(t){window.open("/cetak/"+t+"/surat","_blank")},checkSurat:function(t){null==t||""==t?i.a.fire({icon:"error",title:"Status",text:"Dokumen TTE belum tersedia !!"}).then((function(t){t.isConfirmed})):this.getTTE(t)},reload:function(){this.getPendaftarans(this.search)}}),components:{}},f=e(1),v=Object(f.a)(d,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"card card-custom"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("b-form-datepicker",{attrs:{id:"example-datepicker",locale:"id"},model:{value:t.tgl,callback:function(a){t.tgl=a},expression:"tgl"}})],1),t._v(" "),a("div",{staticClass:"col-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.jenis,expression:"jenis"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.jenis=a.target.multiple?e:e[0]}}},[a("option",{attrs:{value:"1"}},[t._v("Numpang Uji Keluar")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("Mutasi Keluar")]),t._v(" "),a("option",{attrs:{value:"5"}},[t._v("Semua")])])]),t._v(" "),a("div",{staticClass:"col-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"serach"},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-1"},[a("a",{staticClass:"btn btn-sm btn-icon btn-light-info mr-2",attrs:{title:"reload data"},on:{click:function(a){return a.preventDefault(),t.reload.apply(null,arguments)}}},[a("i",{staticClass:"flaticon2-reload"})])])]),t._v(" "),a("div",{staticClass:"row table-responsive"},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table"},[t._m(1),t._v(" "),a("tbody",t._l(t.surat.pendaftarans.data,(function(e,r){return a("tr",{key:e.uuid},[a("td",[t._v(t._s(r+1))]),t._v(" "),a("td",[t._v(t._s(e.keterangan))]),t._v(" "),a("td",[t._v(t._s(e.nosurat))]),t._v(" "),a("td",[t._v(t._s(e.nouji))]),t._v(" "),a("td",[t._v(t._s(e.noregistrasikendaraan))]),t._v(" "),0==e.status_cetak?a("td",[t._v("belum dikirim")]):"1"==e.status_cetak?a("td",[t._v("terkirim")]):a("td",[t._v("Menunggu")]),t._v(" "),a("td",["KEPALA"==t.user.role?a("div",[a("router-link",{attrs:{to:{name:"verif2.verifikasi",params:{id:e.uuid}}}},[a("i",{staticClass:"fa fa-edit text-success"})])],1):a("div",[a("router-link",{attrs:{to:{name:"pendaftaran.edit",params:{id:e.uuid}}}},[a("i",{staticClass:"fa fa-edit text-success"})]),t._v(" "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.sendPendaftaran(e.uuid,e.nouji)}}},[a("i",{staticClass:"fas fa-paper-plane text-danger"})]),t._v(" "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.print(e.uuid)}}},[a("i",{staticClass:"fa fa-print text-info"})])],1)])])})),0)])])])]),t._v(" "),a("div",{staticClass:"card-footer"},[a("div",{staticClass:"pull-right"},[a("div",{staticClass:"overflow-auto"},[t.surat.pendaftarans.data&&t.surat.pendaftarans.data.length>0?a("b-pagination",{attrs:{"total-rows":t.surat.pendaftarans.total,"per-page":t.surat.pendaftarans.per_page,"aria-controls":"pendaftarans"},model:{value:t.page,callback:function(a){t.page=a},expression:"page"}}):t._e()],1)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("div",{staticClass:"card-title"},[t("span",{staticClass:"card-icon"},[t("i",{staticClass:"flaticon2-lorry text-primary"})]),this._v(" "),t("h3",{staticClass:"card-label"},[this._v("Persuratan")])]),this._v(" "),t("div",{staticClass:"card-toolbar"},[t("div",{staticClass:"row"})])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("No.")]),t._v(" "),a("th",[t._v("No. Surat")]),t._v(" "),a("th",[t._v("Jenis Surat")]),t._v(" "),a("th",[t._v("No Uji")]),t._v(" "),a("th",[t._v("No Kendaraan")]),t._v(" "),a("th",[t._v("Status Kementrian")]),t._v(" "),a("th",[t._v("Modify")])])])}],!1,null,null,null);a.default=v.exports}}]);